# 프로젝트 기획서 (Project Plan)
**Version:** 1.1
**Date:** 2025.05.21 (가정)
**Project Name:** **N-SentiTrader** (뉴스 텍스트 마이닝 기반 동적 감성사전 및 주가 예측 시스템)

---

### 1. 개요 (Overview)

#### 1.1 프로젝트 배경
금융 시장에서 뉴스는 주가에 즉각적인 영향을 미치지만, 기존의 감성 분석은 단순한 긍/부정 이분법에 그쳐 실제 주가 변동폭과 괴리가 큼. 이에 따라 **"단어의 구체적인 영향력(무게)"**과 **"유효 기간(시간)"**을 수치화한 금융 특화 감성사전이 필요함.

#### 1.2 프로젝트 목표
1.  **동적 감성사전 구축:** 뉴스 단어(N-gram)와 주가 수익률 간의 상관관계를 분석하여, 시장 트렌드에 따라 매주 업데이트되는 감성사전 자동화 시스템 구축.
2.  **이원화된 예측 모델:** 장기 추세(Main)와 단기 급등(Buffer)을 결합한 앙상블 모델을 통해 예측 사각지대 제거.
3.  **수익률 방향성 예측:** 특정 종목의 익일 주가가 **'시장 수익률을 초과(Outperform)할 것인가'**를 판별.

#### 1.3 핵심 성공 지표 (KPI)
*   **방향성 정확도 (Precision):** 매수 신호 발생 시 실제 주가 상승 확률 **55% 이상** 달성.
*   **백테스팅 성과:** 최근 1년 데이터 시뮬레이션 시 **시장 지수(Benchmark) 대비 초과 수익(Alpha) 발생**.
*   **자동화 안정성:** 데이터 수집부터 예측 리포트 생성까지 **99% 이상의 가동률(Uptime)** 확보.

---

### 2. 프로젝트 범위 (Scope)

#### 2.1 대상 데이터
*   **뉴스 데이터:** 네이버 금융/다음 금융 등 주요 포털의 종목별 뉴스 (제목, 본문, 일시).
*   **주가 데이터:** KOSPI/KOSDAQ 전 종목의 일별 시세 (OHLCV) 및 시장 지수.
*   **기간:** 학습용(과거 3년), 검증용(최근 6개월).

#### 2.2 시스템 구성 (3-Tier Architecture)

| 모듈명 | 기능 정의 | 동작 주기 |
| :--- | :--- | :--- |
| **① Collector** (수집) | • 뉴스/주가 데이터 수집 및 정제<br>• Training DB(학습용)와 Inference DB(예측용) 분리 적재 | **Daily**<br>(00:00~04:00) |
| **② Learner** (학습) | • **Track A (Main):** Lasso 회귀 기반 장기 감성사전 구축 (v1.x)<br>• **Track B (Buffer):** 변동성 가중치 기반 단기 핫 키워드 추출 | **Weekly** (Main)<br>**Daily** (Buffer) |
| **③ Predictor** (예측) | • 사전 v1.x와 버퍼 사전을 로드하여 뉴스 점수 산출<br>• 앙상블 가중치 적용 후 최종 매수/관망 신호 생성 | **Daily**<br>(08:30) |

---

### 3. 주요 전략 및 방법론

#### 3.1 예측 타겟 정의 (개선됨)
*   단순 등락률(%) 예측이 아닌 **Binary Classification(0/1)**으로 접근.
*   **Target $Y$:** $Return_{stock} - Return_{market} > 0$ (시장보다 더 올랐는가?)
    *   $Y=1$ (Buy Signal)
    *   $Y=0$ (Neutral/Sell)

#### 3.2 모델링 전략 (Lasso & Dual-Track)
1.  **자동 검증 (Lasso):** L1 규제를 통해 주가 영향력이 없는 단어의 계수($\beta$)를 0으로 만듦으로써 노이즈 자동 제거.
2.  **시차 적용 (Time Decay):** D-0 ~ D-3일 뉴스에 지수 감쇠(Exponential Decay) 가중치 적용.
3.  **앙상블 (Ensemble):**
    > $$ Final\_Score = (0.7 \times Main\_Score) + (0.3 \times Buffer\_Score) $$
    *   *단, Buffer Score가 임계치(Threshold)를 초과하는 특이 구간에서는 Buffer 가중치를 동적으로 상향.*

---

### 4. 위험 관리 (Risk Management)

| 위험 요소 | 대응 방안 |
| :--- | :--- |
| **데이터 누수** | 주 단위 학습/일 단위 예측 구조 엄수. 학습 시 미래 데이터(이번 주 뉴스) 절대 참조 금지. |
| **미등록 단어 (OOV)** | 신조어 발생 시 '중립(0)' 처리하되, Buffer 모델이 이를 '변동성 유발 단어'로 감지하여 보완. |
| **데이터 수집 실패** | 수집 실패 시 전일자 사전을 그대로 사용(Rollback)하고 관리자에게 긴급 알림 발송. |

---

### 5. 일정 계획 (Milestones)

1.  **Phase 1 (기획 및 설계):** 요구사항/기술사양 확정. (현재 단계)
2.  **Phase 2 (데이터 환경 구축):** Ubuntu 서버 세팅, DB 스키마 설계, 수집기 구현.
3.  **Phase 3 (모델링 및 학습):** Mecab 전처리, Lasso 모델 구현, 감성사전 초안 생성.
4.  **Phase 4 (통합 및 검증):** 예측 모듈 개발, 3개월 백테스팅, 파라미터 튜닝.
5.  **Phase 5 (배포):** 자동화 스케줄러(Cron) 등록 및 리포팅 시스템 가동.